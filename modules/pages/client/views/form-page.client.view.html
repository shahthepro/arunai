<section class="content body">
  <form name="vm.form.pageForm"  ng-submit="vm.save(vm.form.pageForm.$valid)" novalidate>
    <fieldset>
      <div class="form-group" show-errors>
        <label class="control-label" for="title">Title</label>
        <input name="title" type="text" ng-model="vm.page.title" id="title" class="form-control" placeholder="Title" required>
        <div ng-messages="vm.form.pageForm.title.$error" role="alert">
          <p class="help-block error-text" ng-message="required">Page title is required.</p>
        </div>
      </div>
      <div class="form-group" show-errors>
        <label class="control-label" for="slug">Slug</label>
        <input name="slug" type="text" ng-model="vm.page.slug" id="slug" class="form-control" placeholder="Slug" required>
        <div ng-messages="vm.form.pageForm.slug.$error" role="alert">
          <p class="help-block error-text" ng-message="required">Page slug is required.</p>
        </div>
      </div>
      <div class="form-group" show-errors>
        <label class="control-label" for="content">Content</label>
        <textarea name="content" ui-tinymce="vm.tinymceOptions" ng-model="vm.page.content" id="content" class="form-control" placeholder="Content">
        </textarea>
        <div ng-messages="vm.form.pageForm.content.$error" role="alert">
          <p class="help-block error-text" ng-message="required">Page content is required.</p>
        </div>
      </div>
      <div class="form-group" show-errors>
        <label class="control-label" for="sidebar">Sidebar</label>
        <select name="sidebar" id="sidebar" ng-model="vm.page.sidebar" class="form-control" ng-options="sidebar._id as sidebar.name for sidebar in vm.sidebars" required>
        </select>
        <div ng-messages="vm.form.pageForm.sidebar.$error" role="alert">
          <p class="help-block error-text" ng-message="required">Page sidebar is required.</p>
        </div>
        <!--<option ng-repeat="sidebar in vm.sidebars" value="{{sidebar._id}}" ng-selected="{{vm.page.sidebar._id == sidebar._id}}">{{ sidebar.name }} {{vm.page.sidebar._id == sidebar._id}}</option>-->
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-primary">{{vm.page._id ? 'Update' : 'Create'}}</button>
        <button type="submit" class="btn btn-danger" ng-click="vm.remove()" ng-show="vm.page._id">Delete</button>
      </div>
      <div ng-show="vm.error" class="text-danger">
        <strong ng-bind="vm.error"></strong>
      </div>
    </fieldset>
  </form>
</section>
